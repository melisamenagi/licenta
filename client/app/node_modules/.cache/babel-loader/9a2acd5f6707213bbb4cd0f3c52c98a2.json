{"ast":null,"code":"var _jsxFileName = \"/Users/melisamenagi/Desktop/Facultate/Licenta/licenta/client/app/src/components/Indicator/IndicatorItem.js\",\n    _s = $RefreshSig$();\n\nimport { Link, Navigate, useLinkClickHandler } from 'react-router-dom';\nimport { useNavigate } from 'react-router-dom';\nimport { store } from \"../../features/store\";\nimport { useSelector } from \"react-redux\";\nimport Axios from 'axios';\nimport { useEffect, useState } from 'react';\nimport './IndicatorItem.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction IndicatorItem(_ref) {\n  _s();\n\n  let {\n    entitate\n  } = _ref;\n  const [NPS, setNPS] = useState(0);\n  useEffect(() => {\n    getNPS();\n  }, []);\n\n  const getNPS = () => {\n    Axios.get(`http://localhost:3001/api/indicator/management/${entitate}/eNPS`).then(response => {\n      const feedback = response.data;\n      console.log(entitate);\n      console.log(response.data);\n      let scoruri = feedback.map(f => f.scor);\n      let count = 0;\n      let promoters = 0;\n      let detractors = 0;\n      scoruri.forEach(element => {\n        if (element >= 9) {\n          promoters++;\n        } else if (element <= 6) {\n          detractors++;\n        }\n\n        count++;\n      });\n      let procent = promoters / count * 100 - detractors / count * 100;\n      setNPS(procent.toFixed(1)); // console.log(tema,speakerFb,raport, suma, count, medie)\n    }).catch(err => console.log(err));\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"article\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: entitate\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n      children: NPS\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 41,\n    columnNumber: 9\n  }, this);\n}\n\n_s(IndicatorItem, \"Knv+uH753TnFvoFWs711HQ2nLp4=\");\n\n_c = IndicatorItem;\nexport default IndicatorItem;\n\nvar _c;\n\n$RefreshReg$(_c, \"IndicatorItem\");","map":{"version":3,"sources":["/Users/melisamenagi/Desktop/Facultate/Licenta/licenta/client/app/src/components/Indicator/IndicatorItem.js"],"names":["Link","Navigate","useLinkClickHandler","useNavigate","store","useSelector","Axios","useEffect","useState","IndicatorItem","entitate","NPS","setNPS","getNPS","get","then","response","feedback","data","console","log","scoruri","map","f","scor","count","promoters","detractors","forEach","element","procent","toFixed","catch","err"],"mappings":";;;AAAA,SAASA,IAAT,EAAeC,QAAf,EAAyBC,mBAAzB,QAAoD,kBAApD;AACA,SAASC,WAAT,QAA4B,kBAA5B;AACA,SAASC,KAAT,QAAsB,sBAAtB;AACA,SAASC,WAAT,QAA4B,aAA5B;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,SAAT,EAAoBC,QAApB,QAAoC,OAApC;AACA,OAAO,qBAAP;;;AAEA,SAASC,aAAT,OAAkC;AAAA;;AAAA,MAAX;AAACC,IAAAA;AAAD,GAAW;AAC9B,QAAM,CAACC,GAAD,EAAMC,MAAN,IAAgBJ,QAAQ,CAAC,CAAD,CAA9B;AAEAD,EAAAA,SAAS,CAAC,MAAM;AACZM,IAAAA,MAAM;AACT,GAFQ,EAEN,EAFM,CAAT;;AAIA,QAAMA,MAAM,GAAG,MAAM;AACjBP,IAAAA,KAAK,CAACQ,GAAN,CAAW,kDAAiDJ,QAAS,OAArE,EAA6EK,IAA7E,CAAkFC,QAAQ,IAAI;AAC1F,YAAMC,QAAQ,GAAGD,QAAQ,CAACE,IAA1B;AACAC,MAAAA,OAAO,CAACC,GAAR,CAAYV,QAAZ;AACAS,MAAAA,OAAO,CAACC,GAAR,CAAYJ,QAAQ,CAACE,IAArB;AACA,UAAIG,OAAO,GAAGJ,QAAQ,CAACK,GAAT,CAAaC,CAAC,IAAIA,CAAC,CAACC,IAApB,CAAd;AACA,UAAIC,KAAK,GAAG,CAAZ;AACA,UAAIC,SAAS,GAAG,CAAhB;AACA,UAAIC,UAAU,GAAG,CAAjB;AACAN,MAAAA,OAAO,CAACO,OAAR,CAAgBC,OAAO,IAAI;AACvB,YAAGA,OAAO,IAAI,CAAd,EAAiB;AACbH,UAAAA,SAAS;AACZ,SAFD,MAEO,IAAGG,OAAO,IAAG,CAAb,EAAgB;AACnBF,UAAAA,UAAU;AACb;;AACDF,QAAAA,KAAK;AACR,OAPD;AAQA,UAAIK,OAAO,GAAIJ,SAAS,GAACD,KAAV,GAAkB,GAAnB,GAA2BE,UAAU,GAACF,KAAX,GAAmB,GAA5D;AACAb,MAAAA,MAAM,CAACkB,OAAO,CAACC,OAAR,CAAgB,CAAhB,CAAD,CAAN,CAjB0F,CAkB1F;AACH,KAnBD,EAoBCC,KApBD,CAoBOC,GAAG,IAAId,OAAO,CAACC,GAAR,CAAYa,GAAZ,CApBd;AAqBH,GAtBD;;AAwBA,sBACI;AAAA,4BACI;AAAA,gBAAKvB;AAAL;AAAA;AAAA;AAAA;AAAA,YADJ,eAEI;AAAA,gBAAKC;AAAL;AAAA;AAAA;AAAA;AAAA,YAFJ;AAAA;AAAA;AAAA;AAAA;AAAA,UADJ;AAMH;;GArCQF,a;;KAAAA,a;AAuCT,eAAeA,aAAf","sourcesContent":["import { Link, Navigate, useLinkClickHandler } from 'react-router-dom'\nimport { useNavigate } from 'react-router-dom';\nimport { store } from \"../../features/store\"\nimport { useSelector } from \"react-redux\"\nimport Axios from 'axios'\nimport { useEffect, useState } from 'react'\nimport './IndicatorItem.css'\n\nfunction IndicatorItem({entitate}){\n    const [NPS, setNPS] = useState(0)\n\n    useEffect(() => {\n        getNPS()\n    }, [])\n\n    const getNPS = () => {\n        Axios.get(`http://localhost:3001/api/indicator/management/${entitate}/eNPS`).then(response => {\n            const feedback = response.data\n            console.log(entitate)\n            console.log(response.data)\n            let scoruri = feedback.map(f => f.scor)\n            let count = 0\n            let promoters = 0\n            let detractors = 0\n            scoruri.forEach(element => {\n                if(element >= 9) {\n                    promoters++\n                } else if(element <=6) {\n                    detractors++\n                }\n                count++\n            });\n            let procent = (promoters/count * 100) - (detractors/count * 100)\n            setNPS(procent.toFixed(1))\n            // console.log(tema,speakerFb,raport, suma, count, medie)\n        })\n        .catch(err => console.log(err))    \n    }\n\n    return(\n        <article>\n            <h1>{entitate}</h1>\n            <h2>{NPS}</h2>\n        </article>\n    )\n}\n\nexport default IndicatorItem"]},"metadata":{},"sourceType":"module"}